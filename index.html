<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>„ÉØ„Éã„ÅÆ„Éï„É´„Éº„ÉÑ„Ç≠„É£„ÉÉ„ÉÅ</title>

<style>
    body { margin: 0; background: #000; overflow: hidden; font-family: sans-serif; color: #fff; text-align: center; }
    #score, #timer { font-size: 24px; margin: 10px; }
    #game { position: relative; width: 100vw; height: 100vh; overflow: hidden; }
    #player { position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); width: 80px; height: 50px; background: #3cb371; border-radius: 40px; border: 3px solid #2e8b57; }
    .eye { position: absolute; top: 8px; width: 14px; height: 14px; background: white; border-radius: 50%; }
    .eye.left { left: 18px; } .eye.right { right: 18px; }
    .fruit { position: absolute; width: 30px; height: 30px; border-radius: 50%; }
    .bomb { position: absolute; width: 30px; height: 30px; background: #222; border-radius: 50%; border: 3px solid #555; }
</style>
</head>

<body>

<div id="score">„Çπ„Ç≥„Ç¢Ôºö0</div>
<div id="timer">ÊÆã„ÇäÔºö30Áßí</div>
<div id="game"></div>

<script>
const game = document.getElementById("game");
// „Éó„É¨„Ç§„É§„Éº‰ΩúÊàê
const player = document.createElement("div");
player.id = "player";
const eyeL = document.createElement("div"); eyeL.className = "eye left";
const eyeR = document.createElement("div"); eyeR.className = "eye right";
player.appendChild(eyeL); player.appendChild(eyeR);
game.appendChild(player);

let score = 0; let time = 30;
function updateScore(){ document.getElementById("score").innerText = "„Çπ„Ç≥„Ç¢Ôºö" + score; }
function updateTimer(){ document.getElementById("timer").innerText = "ÊÆã„ÇäÔºö" + time + "Áßí"; }

function fallObject(obj, type){
  const fall = setInterval(() => {
    let t = parseInt(obj.style.top);
    obj.style.top = t + 5 + "px";
    const px = player.getBoundingClientRect();
    const ox = obj.getBoundingClientRect();
    if (ox.bottom >= px.top && ox.left < px.right && ox.right > px.left){
      clearInterval(fall);
      if (type === "fruit"){ score++; updateScore(); } else { alert("üí• „Ç≤„Éº„É†„Ç™„Éº„Éê„ÉºÔºÅ „Çπ„Ç≥„Ç¢Ôºö" + score); location.reload(); }
      obj.remove();
    }
    if (t > window.innerHeight){ clearInterval(fall); obj.remove(); }
  }, 20);
}

function createFruit(){
  const f = document.createElement("div"); f.className = "fruit";
  const colors = ["#ff4757","#ffa502","#2ed573","#1e90ff","#ff6b81"];
  f.style.background = colors[Math.floor(Math.random()*colors.length)];
  f.style.left = Math.random()*(window.innerWidth-30)+"px"; f.style.top = "0px";
  game.appendChild(f); fallObject(f,"fruit");
}
function createBomb(){
  const b = document.createElement("div"); b.className = "bomb";
  b.style.left = Math.random()*(window.innerWidth-30)+"px"; b.style.top = "0px";
  game.appendChild(b); fallObject(b,"bomb");
}

setInterval(()=>{ if (Math.random()<0.8) createFruit(); else createBomb(); },700);

game.addEventListener("touchmove", e => { const x = e.touches[0].clientX; player.style.left = (x-40)+"px"; });
game.addEventListener("mousemove", e => { player.style.left = (e.clientX-40)+"px"; });

const timer = setInterval(()=>{ time--; updateTimer(); if (time<=0){ clearInterval(timer); alert("ÁµÇ‰∫ÜÔºÅ „Çπ„Ç≥„Ç¢Ôºö"+score); location.reload(); } },1000);
</script>

</body>
</html>
